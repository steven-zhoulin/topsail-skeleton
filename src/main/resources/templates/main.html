<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Demo</title>

    <link rel="stylesheet" type="text/css" href="easyui/themes/default/easyui.css"/>
    <link rel="stylesheet" type="text/css" href="easyui/themes/icon.css"/>
    <link rel="stylesheet" type="text/css" href="easyui/demo/demo.css"/>

    <script type="text/javascript" src="easyui/jquery.min.js"></script>
    <script type="text/javascript" src="easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="easyui/locale/easyui-lang-zh_CN.js"></script>

    <script type="text/javascript">

        function addTab(url, text, iconCls) {
            var content = "<iframe frameborder='0' scrolling='auto' style='width:100%;height:100%' src='/views/" + url + "'></iframe>";
            $("#tabs").tabs("add", {
                title: text,
                iconCls: iconCls,
                closable: true,
                content: content
            });
        }

        function openTab(text, url, iconCls) {
            if ($("#tabs").tabs("exists", text)) {
                $("#tabs").tabs("close", text);
                addTab(url, text, iconCls);
                $("#tabs").tabs("select", text);
            } else {
                addTab(url, text, iconCls);
            }
        }

        function logout() {
            $.messager
                .confirm(
                    "系统提示",
                    "您确定要退出系统吗",
                    function (r) {
                        if (r) {
                            clearCookie();
                        }
                    });
        }

    </script>

</head>

<body>

<div class="easyui-layout" fit="true">
    <div data-options="region:'north'" border="false" style="height:78px;background-image:url('images/header.jpg');">
        <!--<a href="/user/logout">Logout</a>-->
        <p style="font-size:24px;color:white;">&nbsp;&nbsp;Topsail Skeleton ... </p>
    </div>

    <div data-options="region:'west',split:true" title=" " style="width:18%;">
        <ul id="menu-tree" class="easyui-tree">
            // 菜单树
        </ul>
    </div>
    <div data-options="region:'center',title:''">
        <div class="easyui-tabs" fit="true" border="false" id="tabs">
            <div title="About" data-options="closable:true" style="padding:10px">
                <p style="font-size:14px">jQuery EasyUI framework helps you build your web pages easily.</p>
                <ul>
                    <li>easyui is a collection of user-interface plugin based on jQuery.</li>
                    <li>easyui provides essential functionality for building modem, interactive, javascript
                        applications.
                    </li>
                    <li>using easyui you don't need to write many javascript code, you usually defines user-interface by
                        writing some HTML markup.
                    </li>
                    <li>complete framework for HTML5 web page.</li>
                    <li>easyui save your time and scales while developing your products.</li>
                    <li>easyui is very easy but powerful.</li>
                </ul>
            </div>
            <div title="Help" data-options="iconCls:'icon-help',closable:true" style="padding:10px">
                This is the help content.
            </div>
        </div>
    </div>

</div>

<script type="text/javascript">

    $(function () {
        $('#menu-tree').tree({
            url: 'api/system/menu/tree',
            lines: true,
            onClick: function (node) {
                openTab(node.text, node.url);
            }
        });
    });

    var url;

</script>

</body>
</html>